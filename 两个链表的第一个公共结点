# -*- coding:utf-8 -*-
# class ListNode:
#     def __init__(self, x):
#         self.val = x
#         self.next = None
# class Solution:
#     def FindFirstCommonNode(self, pHead1, pHead2):
#         # write code here
#         tmp = set()
#         while pHead1:
#             tmp.add(pHead1)
#             pHead1 = pHead1.next
#         while pHead2:
#             if pHead2 in tmp:
#                 return pHead2
#             pHead2 = pHead2.next


class Solution:
    def FindFirstCommonNode(self, pHead1, pHead2):
        node1 = pHead1
        node2 = pHead2
        while node1 != node2:
            node1 = pHead2 if node1 == None else node1.next
            node2 = pHead1 if node2 == None else node2.next
        return node1

#coding:utf-8
#
# 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可
#
# 
# @param str string字符串 
# @return int整型
#
# class Solution:
#     def FirstNotRepeatingChar(self , str ):
#         # write code here
#         tmp = {}
#         for c in str:
#             if c not in tmp:
#                 tmp[c] = 1
#             else:
#                 tmp[c] += 1
#         for i in range(len(str)):
#             if tmp[str[i]] == 1:
#                 return i
#         return -1

from collections import deque
class Solution:
    def FirstNotRepeatingChar(self , str ):
        mp = {}
        queue1 = deque()
        queue2 = deque()
        for i in range(len(str)):
            if str[i] not in mp:
                mp[str[i]] = i
                queue1.append(str[i])
                queue2.append(i)
            else:
                mp[str[i]] = -1
                while queue1 and mp[queue1[0]] == -1:
                    queue1.popleft()
                    queue2.popleft()
        return -1 if not queue2 else queue2[0] 
